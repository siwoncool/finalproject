<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>SolMusic | HTML Template</title>
    <meta charset="UTF-8">
    <meta name="description" content="SolMusic HTML Template">
    <meta name="keywords" content="music, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="shortcut icon"/>

    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i&display=swap"
          rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700" rel="stylesheet">

    <!-- Animate.css -->
    <link rel="stylesheet" href="css/main/animate.css">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="css/main/icomoon.css">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="css/main/bootstrap.css">
    <!-- Flexslider  -->
    <link rel="stylesheet" href="css/main/flexslider.css">
    <!-- Flaticons  -->
    <link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">
    <!-- Owl Carousel -->
    <link rel="stylesheet" href="css/main/owl.carousel.min.css">
    <link rel="stylesheet" href="css/main/owl.theme.default.min.css">
    <!-- Theme style  -->
    <link rel="stylesheet" href="css/main/style.css">

    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/selection.css">

    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- script
    ================================================== -->
    <script src="js/modernizr.js"></script>

    <!-- Modernizr JS -->
    <script src="js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="js/respond.min.js"></script>
    <![endif]-->

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/music/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/music/font-awesome.min.css"/>
    <link rel="stylesheet" href="css/music/owl.carousel.min.css"/>
    <link rel="stylesheet" href="css/music/slicknav.min.css"/>

    <!-- Main Stylesheets -->
    <link rel="stylesheet" href="css/music/style.css"/>


    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
        .category-links {
            text-align: right;
            padding-top: 20px;
            margin-bottom: 0px;
            margin-top: 100px;
        }

        .category-section {
            padding: 5px 36px;
        }

        .pagination li.active a {
            background: #FFC300;
            border: 1px solid #FFC300 !important;
        }

    </style>

</head>
<style th:replace="mouse.html :: style"></style>
<body>
<!-- Page Preloder -->
<div id="preloder">
    <div class="loader"></div>
</div>

<div id="colorlib-page">
    <a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle"><i></i></a>

    <header th:replace="sider.html :: header"></header>


    <div id="colorlib-main">

        <!-- Category section -->
        <section class="category-section spad">
            <div class="container-fluid">

                <div class="container">
                    <div class="category-links">
                        <div class="section-title">
                            <h2>Music WorkSpace</h2>
                        </div>
                        <a href="MUS004?category=음악">전체</a>
                        <!--DDAN 서브카테고리-->
                        <span id="DDANsubCategory">

				</span>
                    </div>
                </div>
                <div class="category-items">
                    <!--워크스페이스 시작--><!--DDAN 리스트-->
                    <div class="row">
                        <div class="col-md-4" th:each="list : ${WorkSpaceList}" style="margin-bottom: 100px"><!--반복-->
                            <div class="category-item">
                                <img th:src="@{/junho/workSpaceImg/{workImgName}(workImgName=${list.workImgName})}"
                                     alt="" width="250px" height="250px">
                                <div class="ci-text">
                                    <h4>[[${list.memName}]]</h4>
                                    <p>태그 : [[${list.workTag}]]</p>
                                    <p>총 좋아요 수 : [[${list.likeNum}]]</p>
                                    <p>총 댓글 갯수 : [[${list.comentNum}]]</p>
                                    <p>총 조회수 수 : [[${list.HitNum}]]</p>
                                    <p>총 게시글 수 : [[${list.BoardNum}]]</p>
                                </div>
                                <a th:href="@{WOR4(workCode=${list.workCode})}" class="ci-link"><i
                                        class="fa fa-play"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Category section end -->
        <!--페이지-->

        <!--페이지처리 DDAN -->
        <!-- [이전] 페이지에 대한 처리 -->
        <div className="row">
            <div class="col-md-12 animate-box" data-animate-effect="fadeInLeft"
                 style="opacity: inherit; margin-top: 50px; margin-bottom: 50px;">
                <label class="select">
                    <select id="order" onchange="orderby(this.value)">
                        <option selected value="workCode">정렬</option>
                        <option value="workCode">최신순</option>
                        <option value="likeNum">좋아요 순</option>
                        <option value="HitNum">조회수 순</option>
                    </select>
                    <svg>
                        <use xlink:href="#select-arrow-down"></use>
                    </svg>
                </label>
                <ul class="pagination">
                    <li th:if="${paging.page <= 1}"><a>&laquo;</a></li>
                    <li th:if="${paging.page > 1}">
                        <a th:href="@{MUS004(page=${paging.page -1} , limit=${paging.limit} , category=${paging.category} , cateCode = ${paging.cateCode} ,orderby=${paging.orderby} )}">&laquo;</a>
                    </li>
                    &nbsp;
                    <!-- [페이지 번호] 페이지에 대한 처리 -->
                    <li th:each="i : ${#numbers.sequence(paging.startpage, paging.endpage)}" class="active"
                        style="background-color: #FFC300">
                        <a th:if="${paging.page == i}">
                            [[${i}]]
                        </a>

                        <a th:unless="${paging.page == i}">
                            <span th:href="@{MUS004(page=${i} , limit=${paging.limit} , category=${paging.category} , cateCode = ${paging.cateCode} ,orderby=${paging.orderby})}">[[${i}]]</span>
                        </a>
                    </li>
                    <!-- [다음] 페이지에 대한 처리 -->&nbsp;
                    <li th:if="${paging.page >= paging.maxpage}"><a>&raquo;</a></li>
                    <li th:if="${paging.page < paging.maxpage}">
                        <a th:href="@{MUS004(page=${paging.page +1}, limit=${paging.limit} , category=${paging.category} , cateCode = ${paging.cateCode} ,orderby=${paging.orderby} )}">&raquo;</a>
                    </li>
                </ul>

            </div>
        </div>
        <!--<select id="searchType">
          <option selected >제목</option>
          <option value="">작성자</option>
          <option>태그</option>
          <option></option>
        </select>-->

        <!--<input type="text" id="searchWord">
        <button onclick="search()">검색</button>-->
        <!--DDAN 정렬-->
        <hr>

        </section>
    </div>
</div>
<!-- Songs section end -->
<!--DDAN 서브카테고리 가져오기-->
<script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
        crossorigin="anonymous"></script>
<script>
    /*서브 카테고리 가져와 열기*/
    let music = "음악";

    $.ajax({
        type: 'post',
        url: 'category',
        data: {
            "cate": music
        },
        dataType: "json",
        success:
            function (subCategoryList) {
                console.log("연결");
                /*선택 리스트 출력*/
                musicSubCategory(subCategoryList);
            },
        error: function () {
            alert('category 연결 실패')
        }
    })

    function musicSubCategory(List) {
        let output = ""

        for (let i in List) {
            output += "<a href=\"MUS004?cateCode=" + List[i].cateCode + "\">" + List[i].subCategory + "</a>"
        }

        $("#DDANsubCategory").html(output);
    }


    /*/!*검색 스크립트*!/
    function search(){
      let searchWord = $("#searchWord").val();
      let category= "[[${paging.category}]]";
      let cateCode = [[${paging.cateCode}]];

      console.log(searchWord);
      console.log(category);
      console.log(cateCode);

      let

      location.href="MUS004?cateCode="+cateCode+"&category="+category+"&orderby="+order;
      $("#DDANsubCategory").html(output);

    }*/

    /*정렬을 위한 자바스크립트 */
    function orderby(order) {
        let cateCode = [[${paging.cateCode}]];
        let category = "[[${paging.category}]]";

        location.href = "MUS004?cateCode=" + cateCode + "&category=" + category + "&orderby=" + order;
    }

</script>


<!--====== Javascripts & Jquery ======-->
<script src="js/music/jquery-3.2.1.min.js"></script>
<script src="js/music/bootstrap.min.js"></script>
<script src="js/music/jquery.slicknav.min.js"></script>
<script src="js/music/owl.carousel.min.js"></script>
<script src="js/music/mixitup.min.js"></script>
<script src="js/music/main.js"></script>

<!-- Audio Player and Initialization -->
<script src="js/music/jquery.jplayer.min.js"></script>
<script src="js/music/jplayerInit.js"></script>

<!-- jQuery -->
<script src="js/jquery.min.js"></script>
<!-- jQuery Easing -->
<script src="js/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="js/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="js/jquery.waypoints.min.js"></script>
<!-- Flexslider -->
<script src="js/jquery.flexslider-min.js"></script>
<!-- Sticky Kit -->
<script src="js/sticky-kit.min.js"></script>
<!-- Owl carousel -->
<script src="js/owl.carousel.min.js"></script>
<!-- Counters -->
<script src="js/jquery.countTo.js"></script>


<!-- MAIN JS -->
<script src="js/main.js"></script>

</body>


</html>
